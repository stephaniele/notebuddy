
{% extends 'base.html' %}
{% block stylesheet %}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- Sidebar CSS -->
    <link rel="stylesheet" href="/static/workspace.css" />
    <!-- Awsome Font -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js" integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ" crossorigin="anonymous"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js" integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js" integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA==" crossorigin="anonymous"></script> -->
{% endblock %}

{% block content %}




<div id="main-container">
    <nav id="sidebar">
        <div class="sidebar-header">
            <h3>{{workspace.name}}</h3>
        </div>

        <ul class="list-unstyled components">

            <li>
                <p id="workspace-description">
                    {{workspace.description}}
                </p>
            </li>
           
            <li>
                <a data-toggle="modal" data-target="#addModal">Add file</a>
            </li>
            <li>
                <a data-toggle="modal" data-target="#inviteModal">Invite members</a>
            </li>
            <li>
                <a href="/homepage">Back</a>
            </li>
            
        </ul>
    </nav>

	<div class="container" id="days">

		<!-- days is dictionary. {weekday: int, dayStr: str, files: []} -->
		{% for day in days %}
			<div class="row day">
				<h3 class="dayofWeek" data-toggle="collapse" data-target=".file-container">{{days.get(day).get("dayStr")}}</h3>
				<hr>
				{% for file in days.get(day).get("files") %}
					<div class=" col file-container">
						<div class="file">
							<div class="file-name">{{file.name}}</div>
							<img class="file-img" src="/static/pdf.png">
							
						</div>
						<div class="img-info">
							<img class="file-profile-pic" src="/static/person.jpg">
							<img class="heart" src="/static/heart.png">
							<span class="likes">5</span>
						</div>
					</div>
				{% endfor %}
				<!-- <div class=" col file-container">
					<div class="file">
						<div class="file-name">Flask</div>
						<img class="file-img" src="/static/pdf.png">
						
					</div>
					<div class="img-info">
						<img class="file-profile-pic" src="/static/person.jpg">
						<img class="heart" src="/static/heart.png">
						<span class="likes">5</span>
					</div>
				</div> -->
			</div>

		{% endfor %}


		<div class="row day">
			<h3 class="dayofWeek" data-toggle="collapse"> Monday 12/30</h3>
			<hr>
			<div class="col file-container">
				<div class="file">
					<div class="file-name">flask-note</div>
					<img class="file-img" src="/static/docs.png">
				</div>
				<div class="img-info">
					<img class="file-profile-pic" src="/static/person.jpg">
					<img class="heart" src="/static/heart.png">
					<span class="likes">5</span>
				</div>
			</div>
			<div class=" col file-container">
				<div class="file">
					<div class="file-name">Flask</div>
					<img class="file-img" src="/static/pdf.png">
					
				</div>
				<div class="img-info">
					<img class="file-profile-pic" src="/static/person.jpg">
					<img class="heart" src="/static/heart.png">
					<span class="likes">5</span>
				</div>
			</div>
			<div class=" col file-container">
				<div class="file">
					<div class="file-name">Flask</div>
					<img class="file-img" src="/static/pdf.png">
					
				</div>
				<div class="img-info">
					<img class="file-profile-pic" src="/static/person.jpg">
					<img class="heart" src="/static/heart.png">
					<span class="likes">5</span>
				</div>
			</div>
			<div class=" col file-container">
				<div class="file">
					<div class="file-name">Flask</div>
					<img class="file-img" src="/static/pdf.png">
					
				</div>
				<div class="img-info">
					<img class="file-profile-pic" src="/static/person.jpg">
					<img class="heart" src="/static/heart.png">
					<span class="likes">5</span>
				</div>
			</div>

		</div>
	
	</div>
		<!-- Add File Modal -->
	<div class="modal fade" id="addModal" tabindex="-1" role="dialog" aria-labelledby="addModalLabel" aria-hidden="true">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h5 class="modal-title" id="addModalTitle" >Add file</h5>
	        <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close">
	          <span aria-hidden="true">&times;</span>
	        </button>
	      </div>
	      <div class="modal-body">
	        <form id="add-file" action = "/workspace/{{workspace.id}}" method = "POST" enctype="multipart/form-data">
	        	<div style="margin-bottom: 20px">
		        	<label for="file-picker">Upload file</label>
		        	<input required type="file" id="file-picker" name="file"
  					accept=".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/pdf">
  				</div>
  				<div>
	  				<label for="file-picker">Choose date</label>
	  				<input required type="date" id="add-date" name="add-date" min={{workspace.startDate}} max={{workspace.endDate}}>
  				</div>
	        </form>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
	        <button type="submit" form="add-file" class="btn btn-primary">Submit</button>
	      </div>
	    </div>
	  </div>
	</div>

	<!-- Invite Link Modal -->
	<div class="modal fade" id="inviteModal" tabindex="-1" role="dialog" aria-labelledby="inviteModalLabel" aria-hidden="true">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h5 class="modal-title" id="inviteModalTitle">Share this code</h5>
	        <button type="button" class="btn-close"  data-dismiss="modal" aria-label="Close">
	          <span aria-hidden="true">&times;</span>
	        </button>
	      </div>
	      <div class="modal-body">
			<p>You can share this secret code with other people to let thme join this workspace:</p>
	      	<p> {{workspace.secretCode}}<p>
	      	
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
	      </div>
	    </div>
	  </div>
	</div>


    <!-- <div id="side-bar">
        <ul>
            <li><img class="side-profile-pic" src="/static/person.jpg" alt="profile pic"></li>
            <li><img class="side-profile-pic" src="/static/person.jpg" alt="profile pic"></li>
            <li><img class="side-profile-pic" src="/static/person.jpg" alt="profile pic"></li>
            <li><img class="side-profile-pic" src="/static/person.jpg" alt="profile pic"></li>
            <li><img class="side-profile-pic" src="/static/person.jpg" alt="profile pic"></li>
            <li><img class="side-profile-pic" src="/static/person.jpg" alt="profile pic"></li>
            <li><img class="side-profile-pic" src="/static/person.jpg" alt="profile pic"></li>
            <li><img class="side-profile-pic" src="/static/person.jpg" alt="profile pic"></li>
            <li><img class="side-profile-pic" src="/static/person.jpg" alt="profile pic"></li>
            <li><img class="side-profile-pic" src="/static/person.jpg" alt="profile pic"></li>
            <li><img class="side-profile-pic" src="/static/person.jpg" alt="profile pic"></li>

        </ul>
    </div> -->

<!--     <div id="invite">
        <input type="button" id="invite-button" value="Invite">
    </div> -->
    <!-- <img src="/static/add.png" id ="add-button" data-toggle="modal" data-target="#exampleModal" onclick="DoSomething();"/> -->
</div>

<script type="text/javascript">

    // $(".dayofWeek").click(function(){
    //     $(this).attr("data-target",$(this).closest(".day").children(".file-container"))
    // })

    // $(".dayofWeek").attr("data-target",".file-container")

    
</script>

<script type="text/javascript" charset="utf-8">
    
</script>


{% endblock %}
